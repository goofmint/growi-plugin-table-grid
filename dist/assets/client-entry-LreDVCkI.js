const Le="growi-plugin-table-grid",je="1.0.0",Oe="GROWI plugin converting table to grid by Grid.js",De="MIT",He=["growi","growi-plugin"],Me="module",Fe={dev:"vite",build:"tsc && vite build",preview:"vite preview"},Re={gridjs:"^6.2.0",react:"^18.3.1","react-dom":"^18.3.1","react-innertext":"^1.1.5"},Ue={"@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^5.0.0","@typescript-eslint/parser":"^5.0.0","@vitejs/plugin-react":"^4.3.1",eslint:"^8.18.0","eslint-config-next":"^14.2.4","eslint-config-weseek":"^2.1.0","eslint-import-resolver-typescript":"^3.2.5","eslint-plugin-import":"^2.29.1","eslint-plugin-jest":"^27.1.0","eslint-plugin-react":"^7.30.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-regex":"^1.10.0",jest:"^29.7.0",typescript:"^5.5.2",vite:"^5.3.2"},We={schemaVersion:"4",types:["script"]},Be={name:Le,version:je,description:Oe,license:De,keywords:He,type:Me,scripts:Fe,dependencies:Re,devDependencies:Ue,growiPlugin:We};function qe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,typeof(o=function(i,u){if(typeof i!="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var c=a.call(i,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(r.key))=="symbol"?o:String(o),r)}var o}function O(n,e,t){return e&&qe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function P(){return P=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},P.apply(this,arguments)}function A(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Cn(n,e)}function Cn(n,e){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Cn(n,e)}function On(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Dn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function D(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function(o,i){if(o){if(typeof o=="string")return Dn(o,i);var u=Object.prototype.toString.call(o).slice(8,-1);return u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Dn(o,i):void 0}}(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F;(function(n){n[n.Init=0]="Init",n[n.Loading=1]="Loading",n[n.Loaded=2]="Loaded",n[n.Rendered=3]="Rendered",n[n.Error=4]="Error"})(F||(F={}));var mn,y,ue,se,en,Hn,ae,hn={},ce=[],ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function K(n,e){for(var t in e)n[t]=e[t];return n}function le(n){var e=n.parentNode;e&&e.removeChild(n)}function _(n,e,t){var r,o,i,u={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:u[i]=e[i];if(arguments.length>2&&(u.children=arguments.length>3?mn.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(i in n.defaultProps)u[i]===void 0&&(u[i]=n.defaultProps[i]);return cn(n,u,r,o,null)}function cn(n,e,t,r,o){var i={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++ue};return o==null&&y.vnode!=null&&y.vnode(i),i}function q(n){return n.children}function ln(n,e){this.props=n,this.context=e}function rn(n,e){if(e==null)return n.__?rn(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?rn(n):null}function fe(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return fe(n)}}function En(n){(!n.__d&&(n.__d=!0)&&en.push(n)&&!_n.__r++||Hn!==y.debounceRendering)&&((Hn=y.debounceRendering)||setTimeout)(_n)}function _n(){for(var n;_n.__r=en.length;)n=en.sort(function(e,t){return e.__v.__b-t.__v.__b}),en=[],n.some(function(e){var t,r,o,i,u,a;e.__d&&(u=(i=(t=e).__v).__e,(a=t.__P)&&(r=[],(o=K({},i)).__v=i.__v+1,An(a,i,o,t.__n,a.ownerSVGElement!==void 0,i.__h!=null?[u]:null,r,u??rn(i),i.__h),_e(r,i),i.__e!=u&&fe(i)))})}function pe(n,e,t,r,o,i,u,a,c,d){var s,f,p,l,h,w,g,m=r&&r.__k||ce,N=m.length;for(t.__k=[],s=0;s<e.length;s++)if((l=t.__k[s]=(l=e[s])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?cn(null,l,null,null,l):Array.isArray(l)?cn(q,{children:l},null,null,null):l.__b>0?cn(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null){if(l.__=t,l.__b=t.__b+1,(p=m[s])===null||p&&l.key==p.key&&l.type===p.type)m[s]=void 0;else for(f=0;f<N;f++){if((p=m[f])&&l.key==p.key&&l.type===p.type){m[f]=void 0;break}p=null}An(n,l,p=p||hn,o,i,u,a,c,d),h=l.__e,(f=l.ref)&&p.ref!=f&&(g||(g=[]),p.ref&&g.push(p.ref,null,l),g.push(f,l.__c||h,l)),h!=null?(w==null&&(w=h),typeof l.type=="function"&&l.__k===p.__k?l.__d=c=de(l,c,n):c=he(n,l,p,m,h,c),typeof t.type=="function"&&(t.__d=c)):c&&p.__e==c&&c.parentNode!=n&&(c=rn(p))}for(t.__e=w,s=N;s--;)m[s]!=null&&ve(m[s],m[s]);if(g)for(s=0;s<g.length;s++)me(g[s],g[++s],g[++s])}function de(n,e,t){for(var r,o=n.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=n,e=typeof r.type=="function"?de(r,e,t):he(t,r,r,o,r.__e,e));return e}function he(n,e,t,r,o,i){var u,a,c;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(t==null||o!=i||o.parentNode==null)n:if(i==null||i.parentNode!==n)n.appendChild(o),u=null;else{for(a=i,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==o)break n;n.insertBefore(o,i),u=i}return u!==void 0?u:o.nextSibling}function Mn(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||ze.test(e)?t:t+"px"}function an(n,e,t,r,o){var i;n:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Mn(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Mn(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+i]=t,t?r||n.addEventListener(e,i?Rn:Fn,i):n.removeEventListener(e,i?Rn:Fn,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break n}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function Fn(n){this.l[n.type+!1](y.event?y.event(n):n)}function Rn(n){this.l[n.type+!0](y.event?y.event(n):n)}function An(n,e,t,r,o,i,u,a,c){var d,s,f,p,l,h,w,g,m,N,b,k,$,U,T,v=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,a=e.__e=t.__e,e.__h=null,i=[a]),(d=y.__b)&&d(e);try{n:if(typeof v=="function"){if(g=e.props,m=(d=v.contextType)&&r[d.__c],N=d?m?m.props.value:d.__:r,t.__c?w=(s=e.__c=t.__c).__=s.__E:("prototype"in v&&v.prototype.render?e.__c=s=new v(g,N):(e.__c=s=new ln(g,N),s.constructor=v,s.render=$e),m&&m.sub(s),s.props=g,s.state||(s.state={}),s.context=N,s.__n=r,f=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),v.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=K({},s.__s)),K(s.__s,v.getDerivedStateFromProps(g,s.__s))),p=s.props,l=s.state,f)v.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(v.getDerivedStateFromProps==null&&g!==p&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(g,N),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(g,s.__s,N)===!1||e.__v===t.__v){for(s.props=g,s.state=s.__s,e.__v!==t.__v&&(s.__d=!1),s.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(B){B&&(B.__=e)}),b=0;b<s._sb.length;b++)s.__h.push(s._sb[b]);s._sb=[],s.__h.length&&u.push(s);break n}s.componentWillUpdate!=null&&s.componentWillUpdate(g,s.__s,N),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(p,l,h)})}if(s.context=N,s.props=g,s.__v=e,s.__P=n,k=y.__r,$=0,"prototype"in v&&v.prototype.render){for(s.state=s.__s,s.__d=!1,k&&k(e),d=s.render(s.props,s.state,s.context),U=0;U<s._sb.length;U++)s.__h.push(s._sb[U]);s._sb=[]}else do s.__d=!1,k&&k(e),d=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++$<25);s.state=s.__s,s.getChildContext!=null&&(r=K(K({},r),s.getChildContext())),f||s.getSnapshotBeforeUpdate==null||(h=s.getSnapshotBeforeUpdate(p,l)),T=d!=null&&d.type===q&&d.key==null?d.props.children:d,pe(n,Array.isArray(T)?T:[T],e,t,r,o,i,u,a,c),s.base=e.__e,e.__h=null,s.__h.length&&u.push(s),w&&(s.__E=s.__=null),s.__e=!1}else i==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Ve(t.__e,e,t,r,o,i,u,c);(d=y.diffed)&&d(e)}catch(B){e.__v=null,(c||i!=null)&&(e.__e=a,e.__h=!!c,i[i.indexOf(a)]=null),y.__e(B,e,t)}}function _e(n,e){y.__c&&y.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){y.__e(r,t.__v)}})}function Ve(n,e,t,r,o,i,u,a){var c,d,s,f=t.props,p=e.props,l=e.type,h=0;if(l==="svg"&&(o=!0),i!=null){for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!l&&(l?c.localName===l:c.nodeType===3)){n=c,i[h]=null;break}}if(n==null){if(l===null)return document.createTextNode(p);n=o?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,p.is&&p),i=null,a=!1}if(l===null)f===p||a&&n.data===p||(n.data=p);else{if(i=i&&mn.call(n.childNodes),d=(f=t.props||hn).dangerouslySetInnerHTML,s=p.dangerouslySetInnerHTML,!a){if(i!=null)for(f={},h=0;h<n.attributes.length;h++)f[n.attributes[h].name]=n.attributes[h].value;(s||d)&&(s&&(d&&s.__html==d.__html||s.__html===n.innerHTML)||(n.innerHTML=s&&s.__html||""))}if(function(w,g,m,N,b){var k;for(k in m)k==="children"||k==="key"||k in g||an(w,k,null,m[k],N);for(k in g)b&&typeof g[k]!="function"||k==="children"||k==="key"||k==="value"||k==="checked"||m[k]===g[k]||an(w,k,g[k],m[k],N)}(n,p,f,o,a),s)e.__k=[];else if(h=e.props.children,pe(n,Array.isArray(h)?h:[h],e,t,r,o&&l!=="foreignObject",i,u,i?i[0]:t.__k&&rn(t,0),a),i!=null)for(h=i.length;h--;)i[h]!=null&&le(i[h]);a||("value"in p&&(h=p.value)!==void 0&&(h!==n.value||l==="progress"&&!h||l==="option"&&h!==f.value)&&an(n,"value",h,f.value,!1),"checked"in p&&(h=p.checked)!==void 0&&h!==n.checked&&an(n,"checked",h,f.checked,!1))}return n}function me(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){y.__e(r,t)}}function ve(n,e,t){var r,o;if(y.unmount&&y.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||me(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){y.__e(i,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&ve(r[o],e,t||typeof n.type!="function");t||n.__e==null||le(n.__e),n.__=n.__e=n.__d=void 0}function $e(n,e,t){return this.constructor(n,t)}function tn(n,e,t){var r,o,i;y.__&&y.__(n,e),o=(r=typeof t=="function")?null:e.__k,i=[],An(e,n=(!r&&t||e).__k=_(q,null,[n]),o||hn,hn,e.ownerSVGElement!==void 0,!r&&t?[t]:o?null:e.firstChild?mn.call(e.childNodes):null,i,!r&&t?t:o?o.__e:e.firstChild,r),_e(i,n)}function ge(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)})}mn=ce.slice,y={__e:function(n,e,t,r){for(var o,i,u;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(n)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,r||{}),u=o.__d),u)return o.__E=o}catch(a){n=a}throw n}},ue=0,se=function(n){return n!=null&&n.constructor===void 0},ln.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=K({},this.state),typeof n=="function"&&(n=n(K({},t),this.props)),n&&K(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),En(this))},ln.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),En(this))},ln.prototype.render=q,en=[],_n.__r=0,ae=0;var vn=function(){function n(e){this._id=void 0,this._id=e||ge()}return O(n,[{key:"id",get:function(){return this._id}}]),n}();function Ge(n){return _(n.parentElement||"span",{dangerouslySetInnerHTML:{__html:n.content}})}function ye(n,e){return _(Ge,{content:n,parentElement:e})}var j,Tn=function(n){function e(r){var o;return(o=n.call(this)||this).data=void 0,o.update(r),o}A(e,n);var t=e.prototype;return t.cast=function(r){return r instanceof HTMLElement?ye(r.outerHTML):r},t.update=function(r){return this.data=this.cast(r),this},e}(vn),xn=function(n){function e(r){var o;return(o=n.call(this)||this)._cells=void 0,o.cells=r||[],o}A(e,n);var t=e.prototype;return t.cell=function(r){return this._cells[r]},t.toArray=function(){return this.cells.map(function(r){return r.data})},e.fromCells=function(r){return new e(r.map(function(o){return new Tn(o.data)}))},O(e,[{key:"cells",get:function(){return this._cells},set:function(r){this._cells=r}},{key:"length",get:function(){return this.cells.length}}]),e}(vn),gn=function(n){function e(t){var r;return(r=n.call(this)||this)._rows=void 0,r._length=void 0,r.rows=t instanceof Array?t:t instanceof xn?[t]:[],r}return A(e,n),e.prototype.toArray=function(){return this.rows.map(function(t){return t.toArray()})},e.fromRows=function(t){return new e(t.map(function(r){return xn.fromCells(r.cells)}))},e.fromArray=function(t){return new e((t=function(r){return!r[0]||r[0]instanceof Array?r:[r]}(t)).map(function(r){return new xn(r.map(function(o){return new Tn(o)}))}))},O(e,[{key:"rows",get:function(){return this._rows},set:function(t){this._rows=t}},{key:"length",get:function(){return this._length||this.rows.length},set:function(t){this._length=t}}]),e}(vn),Ln=function(){function n(){this.callbacks=void 0}var e=n.prototype;return e.init=function(t){this.callbacks||(this.callbacks={}),t&&!this.callbacks[t]&&(this.callbacks[t]=[])},e.listeners=function(){return this.callbacks},e.on=function(t,r){return this.init(t),this.callbacks[t].push(r),this},e.off=function(t,r){var o=t;return this.init(),this.callbacks[o]&&this.callbacks[o].length!==0?(this.callbacks[o]=this.callbacks[o].filter(function(i){return i!=r}),this):this},e.emit=function(t){var r=arguments,o=t;return this.init(o),this.callbacks[o].length>0&&(this.callbacks[o].forEach(function(i){return i.apply(void 0,[].slice.call(r,1))}),!0)},n}();function fn(n,e){if(typeof n!=typeof e)return!1;if(n===null&&e===null)return!0;if(typeof n!="object")return n===e;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!fn(n[t],e[t]))return!1;return!0}if(n.hasOwnProperty("constructor")&&e.hasOwnProperty("constructor")&&n.hasOwnProperty("props")&&e.hasOwnProperty("props")&&n.hasOwnProperty("key")&&e.hasOwnProperty("key")&&n.hasOwnProperty("ref")&&e.hasOwnProperty("ref")&&n.hasOwnProperty("type")&&e.hasOwnProperty("type"))return fn(n.props,e.props);var r=Object.keys(n),o=Object.keys(e);if(r.length!==o.length)return!1;for(var i=0,u=r;i<u.length;i++){var a=u[i];if(!e.hasOwnProperty(a)||!fn(n[a],e[a]))return!1}return!0}(function(n){n[n.Initiator=0]="Initiator",n[n.ServerFilter=1]="ServerFilter",n[n.ServerSort=2]="ServerSort",n[n.ServerLimit=3]="ServerLimit",n[n.Extractor=4]="Extractor",n[n.Transformer=5]="Transformer",n[n.Filter=6]="Filter",n[n.Sort=7]="Sort",n[n.Limit=8]="Limit"})(j||(j={}));var V=function(n){function e(r){var o;return(o=n.call(this)||this).id=void 0,o._props=void 0,o._props={},o.id=ge(),r&&o.setProps(r),o}A(e,n);var t=e.prototype;return t.process=function(){var r=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,r),this.emit.apply(this,["beforeProcess"].concat(r));var o=this._process.apply(this,r);return this.emit.apply(this,["afterProcess"].concat(r)),o},t.setProps=function(r){var o=P({},this._props,r);return fn(o,this._props)||(this._props=o,this.emit("propsUpdated",this)),this},O(e,[{key:"props",get:function(){return this._props}}]),e}(Ln),Ke=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){return this.props.keyword?(r=String(this.props.keyword).trim(),o=this.props.columns,i=this.props.ignoreHiddenColumns,u=t,a=this.props.selector,r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new gn(u.rows.filter(function(c,d){return c.cells.some(function(s,f){if(!s||i&&o&&o[f]&&typeof o[f]=="object"&&o[f].hidden)return!1;var p="";if(typeof a=="function")p=a(s.data,d,f);else if(typeof s.data=="object"){var l=s.data;l&&l.props&&l.props.content&&(p=l.props.content)}else p=String(s.data);return new RegExp(r,"gi").test(p)})}))):t;var r,o,i,u,a},O(e,[{key:"type",get:function(){return j.Filter}}]),e}(V);function x(){var n="gridjs";return""+n+[].slice.call(arguments).reduce(function(e,t){return e+"-"+t},"")}function S(){return[].slice.call(arguments).map(function(n){return n?n.toString():""}).filter(function(n){return n}).reduce(function(n,e){return(n||"")+" "+e},"").trim()}var un,I,Pn,Un,Wn=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){if(!this.props.keyword)return t;var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.keyword)),this.props.body&&(r.body=this.props.body(t.body,this.props.keyword)),P({},t,r)},O(e,[{key:"type",get:function(){return j.ServerFilter}}]),e}(V),on=0,be=[],pn=[],Bn=y.__b,qn=y.__r,zn=y.diffed,Vn=y.__c,$n=y.unmount;function yn(n,e){y.__h&&y.__h(I,n,on||e),on=0;var t=I.__H||(I.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({__V:pn}),t.__[n]}function X(n){return on=1,function(e,t,r){var o=yn(un++,2);if(o.t=e,!o.__c&&(o.__=[Kn(void 0,t),function(u){var a=o.__N?o.__N[0]:o.__[0],c=o.t(a,u);a!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=I,!I.u)){I.u=!0;var i=I.shouldComponentUpdate;I.shouldComponentUpdate=function(u,a,c){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(f){return f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,u,a,c);var s=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(s=!0)}}),!(!s&&o.__c.props===u)&&(!i||i.call(this,u,a,c))}}return o.__N||o.__}(Kn,n)}function R(n,e){var t=yn(un++,3);!y.__s&&ke(t.__H,e)&&(t.__=n,t.i=e,I.__H.__h.push(t))}function sn(n){return on=5,we(function(){return{current:n}},[])}function we(n,e){var t=yn(un++,7);return ke(t.__H,e)?(t.__V=n(),t.i=e,t.__h=n,t.__V):t.__}function Xe(){for(var n;n=be.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(dn),n.__H.__h.forEach(In),n.__H.__h=[]}catch(e){n.__H.__h=[],y.__e(e,n.__v)}}y.__b=function(n){I=null,Bn&&Bn(n)},y.__r=function(n){qn&&qn(n),un=0;var e=(I=n.__c).__H;e&&(Pn===I?(e.__h=[],I.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=pn,t.__N=t.i=void 0})):(e.__h.forEach(dn),e.__h.forEach(In),e.__h=[])),Pn=I},y.diffed=function(n){zn&&zn(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(be.push(e)!==1&&Un===y.requestAnimationFrame||((Un=y.requestAnimationFrame)||Ze)(Xe)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==pn&&(t.__=t.__V),t.i=void 0,t.__V=pn})),Pn=I=null},y.__c=function(n,e){e.some(function(t){try{t.__h.forEach(dn),t.__h=t.__h.filter(function(r){return!r.__||In(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],y.__e(r,t.__v)}}),Vn&&Vn(n,e)},y.unmount=function(n){$n&&$n(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{dn(r)}catch(o){e=o}}),t.__H=void 0,e&&y.__e(e,t.__v))};var Gn=typeof requestAnimationFrame=="function";function Ze(n){var e,t=function(){clearTimeout(r),Gn&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);Gn&&(e=requestAnimationFrame(t))}function dn(n){var e=I,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),I=e}function In(n){var e=I;n.__c=n.__(),I=e}function ke(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function Kn(n,e){return typeof e=="function"?e(n):e}function M(){return function(n){var e=I.context[n.__c],t=yn(un++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(I)),e.props.value):n.__}(Ne)}var Je={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(n,e){return"Page "+n+" of "+e},page:function(n){return"Page "+n},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},Qe=function(){function n(t){this._language=void 0,this._defaultLanguage=void 0,this._language=t,this._defaultLanguage=Je}var e=n.prototype;return e.getString=function(t,r){if(!r||!t)return null;var o=t.split("."),i=o[0];if(r[i]){var u=r[i];return typeof u=="string"?function(){return u}:typeof u=="function"?u:this.getString(o.slice(1).join("."),u)}return null},e.translate=function(t){var r,o=this.getString(t,this._language);return(r=o||this.getString(t,this._defaultLanguage))?r.apply(void 0,[].slice.call(arguments,1)):t},n}();function bn(){var n=M();return function(e){var t;return(t=n.translator).translate.apply(t,[e].concat([].slice.call(arguments,1)))}}var Xn=function(n){return function(e){return P({},e,{search:{keyword:n}})}};function nn(){return M().store}function z(n){var e=nn(),t=X(n(e.getState())),r=t[0],o=t[1];return R(function(){return e.subscribe(function(){var i=n(e.getState());r!==i&&o(i)})},[]),r}function Ye(){var n,e=X(void 0),t=e[0],r=e[1],o=M(),i=o.search,u=bn(),a=nn().dispatch,c=z(function(l){return l.search});R(function(){t&&t.setProps({keyword:c==null?void 0:c.keyword})},[c,t]),R(function(){r(i.server?new Wn({keyword:i.keyword,url:i.server.url,body:i.server.body}):new Ke({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&a(Xn(i.keyword))},[i]),R(function(){if(t)return o.pipeline.register(t),function(){return o.pipeline.unregister(t)}},[o,t]);var d,s,f,p=function(l,h){return on=8,we(function(){return l},h)}((d=function(l){l.target instanceof HTMLInputElement&&a(Xn(l.target.value))},s=t instanceof Wn?i.debounceTimeout||250:0,function(){var l=arguments;return new Promise(function(h){f&&clearTimeout(f),f=setTimeout(function(){return h(d.apply(void 0,[].slice.call(l)))},s)})}),[i,t]);return _("div",{className:x(S("search",(n=o.className)==null?void 0:n.search))},_("input",{type:"search",placeholder:u("search.placeholder"),"aria-label":u("search.placeholder"),onInput:p,className:S(x("input"),x("search","input")),defaultValue:(c==null?void 0:c.keyword)||""}))}var Zn=function(n){function e(){return n.apply(this,arguments)||this}A(e,n);var t=e.prototype;return t.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},t._process=function(r){var o=this.props.page;return new gn(r.rows.slice(o*this.props.limit,(o+1)*this.props.limit))},O(e,[{key:"type",get:function(){return j.Limit}}]),e}(V),Jn=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.page,this.props.limit)),this.props.body&&(r.body=this.props.body(t.body,this.props.page,this.props.limit)),P({},t,r)},O(e,[{key:"type",get:function(){return j.ServerLimit}}]),e}(V);function nt(){var n=M(),e=n.pagination,t=e.server,r=e.summary,o=r===void 0||r,i=e.nextButton,u=i===void 0||i,a=e.prevButton,c=a===void 0||a,d=e.buttonsCount,s=d===void 0?3:d,f=e.limit,p=f===void 0?10:f,l=e.page,h=l===void 0?0:l,w=e.resetPageOnUpdate,g=w===void 0||w,m=sn(null),N=X(h),b=N[0],k=N[1],$=X(0),U=$[0],T=$[1],v=bn();R(function(){return t?(m.current=new Jn({limit:p,page:b,url:t.url,body:t.body}),n.pipeline.register(m.current)):(m.current=new Zn({limit:p,page:b}),n.pipeline.register(m.current)),m.current instanceof Jn?n.pipeline.on("afterProcess",function(E){return T(E.length)}):m.current instanceof Zn&&m.current.on("beforeProcess",function(E){return T(E.length)}),n.pipeline.on("updated",B),n.pipeline.on("error",function(){T(0),k(0)}),function(){n.pipeline.unregister(m.current),n.pipeline.off("updated",B)}},[]);var B=function(E){g&&E!==m.current&&(k(0),m.current.props.page!==0&&m.current.setProps({page:0}))},C=function(){return Math.ceil(U/p)},G=function(E){if(E>=C()||E<0||E===b)return null;k(E),m.current.setProps({page:E})};return _("div",{className:S(x("pagination"),n.className.pagination)},_(q,null,o&&U>0&&_("div",{role:"status","aria-live":"polite",className:S(x("summary"),n.className.paginationSummary),title:v("pagination.navigate",b+1,C())},v("pagination.showing")," ",_("b",null,v(""+(b*p+1)))," ",v("pagination.to")," ",_("b",null,v(""+Math.min((b+1)*p,U)))," ",v("pagination.of")," ",_("b",null,v(""+U))," ",v("pagination.results"))),_("div",{className:x("pages")},c&&_("button",{tabIndex:0,role:"button",disabled:b===0,onClick:function(){return G(b-1)},title:v("pagination.previous"),"aria-label":v("pagination.previous"),className:S(n.className.paginationButton,n.className.paginationButtonPrev)},v("pagination.previous")),function(){if(s<=0)return null;var E=Math.min(C(),s),J=Math.min(b,Math.floor(E/2));return b+Math.floor(E/2)>=C()&&(J=E-(C()-b)),_(q,null,C()>E&&b-J>0&&_(q,null,_("button",{tabIndex:0,role:"button",onClick:function(){return G(0)},title:v("pagination.firstPage"),"aria-label":v("pagination.firstPage"),className:n.className.paginationButton},v("1")),_("button",{tabIndex:-1,className:S(x("spread"),n.className.paginationButton)},"...")),Array.from(Array(E).keys()).map(function(L){return b+(L-J)}).map(function(L){return _("button",{tabIndex:0,role:"button",onClick:function(){return G(L)},className:S(b===L?S(x("currentPage"),n.className.paginationButtonCurrent):null,n.className.paginationButton),title:v("pagination.page",L+1),"aria-label":v("pagination.page",L+1)},v(""+(L+1)))}),C()>E&&C()>b+J+1&&_(q,null,_("button",{tabIndex:-1,className:S(x("spread"),n.className.paginationButton)},"..."),_("button",{tabIndex:0,role:"button",onClick:function(){return G(C()-1)},title:v("pagination.page",C()),"aria-label":v("pagination.page",C()),className:n.className.paginationButton},v(""+C()))))}(),u&&_("button",{tabIndex:0,role:"button",disabled:C()===b+1||C()===0,onClick:function(){return G(b+1)},title:v("pagination.next"),"aria-label":v("pagination.next"),className:S(n.className.paginationButton,n.className.paginationButtonNext)},v("pagination.next"))))}function et(n,e){return typeof n=="string"?n.indexOf("%")>-1?e/100*parseInt(n,10):parseInt(n,10):n}function Nn(n){return n?Math.floor(n)+"px":""}function tt(n){var e=n.tableRef.cloneNode(!0);return e.style.position="absolute",e.style.width="100%",e.style.zIndex="-2147483640",e.style.visibility="hidden",_("div",{ref:function(t){t&&t.appendChild(e)}})}function rt(n){if(!n)return"";var e=n.split(" ");return e.length===1&&/([a-z][A-Z])+/g.test(n)?n:e.map(function(t,r){return r==0?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}).join("")}var Z,W=new(function(){function n(){}var e=n.prototype;return e.format=function(t,r){return"[Grid.js] ["+r.toUpperCase()+"]: "+t},e.error=function(t,r){r===void 0&&(r=!1);var o=this.format(t,"error");if(r)throw Error(o);console.error(o)},e.warn=function(t){console.warn(this.format(t,"warn"))},e.info=function(t){console.info(this.format(t,"info"))},n}());(function(n){n[n.Header=0]="Header",n[n.Footer=1]="Footer",n[n.Cell=2]="Cell"})(Z||(Z={}));var Qn=function(){function n(){this.plugins=void 0,this.plugins=[]}var e=n.prototype;return e.get=function(t){return this.plugins.find(function(r){return r.id===t})},e.add=function(t){return t.id?this.get(t.id)?(W.error("Duplicate plugin ID: "+t.id),this):(this.plugins.push(t),this):(W.error("Plugin ID cannot be empty"),this)},e.remove=function(t){var r=this.get(t);return r&&this.plugins.splice(this.plugins.indexOf(r),1),this},e.list=function(t){var r;return r=t!=null||t!=null?this.plugins.filter(function(o){return o.position===t}):this.plugins,r.sort(function(o,i){return o.order&&i.order?o.order-i.order:1})},n}();function wn(n){var e=this,t=M();if(n.pluginId){var r=t.plugin.get(n.pluginId);return r?_(q,{},_(r.component,P({plugin:r},n.props))):null}return n.position!==void 0?_(q,{},t.plugin.list(n.position).map(function(o){return _(o.component,P({plugin:o},e.props.props))})):null}var Y=function(n){function e(){var r;return(r=n.call(this)||this)._columns=void 0,r._columns=[],r}A(e,n);var t=e.prototype;return t.adjustWidth=function(r,o,i){var u=r.container,a=r.autoWidth;if(!u)return this;var c=u.clientWidth,d={};o.current&&a&&(tn(_(tt,{tableRef:o.current}),i.current),d=function(l){var h=l.querySelector("table");if(!h)return{};var w=h.className,g=h.style.cssText;h.className=w+" "+x("shadowTable"),h.style.tableLayout="auto",h.style.width="auto",h.style.padding="0",h.style.margin="0",h.style.border="none",h.style.outline="none";var m=Array.from(h.parentNode.querySelectorAll("thead th")).reduce(function(N,b){var k;return b.style.width=b.clientWidth+"px",P(((k={})[b.getAttribute("data-column-id")]={minWidth:b.clientWidth},k),N)},{});return h.className=w,h.style.cssText=g,h.style.tableLayout="auto",Array.from(h.parentNode.querySelectorAll("thead th")).reduce(function(N,b){return N[b.getAttribute("data-column-id")].width=b.clientWidth,N},m)}(i.current));for(var s,f=D(e.tabularFormat(this.columns).reduce(function(l,h){return l.concat(h)},[]));!(s=f()).done;){var p=s.value;p.columns&&p.columns.length>0||(!p.width&&a?p.id in d&&(p.width=Nn(d[p.id].width),p.minWidth=Nn(d[p.id].minWidth)):p.width=Nn(et(p.width,c)))}return o.current&&a&&tn(null,i.current),this},t.setSort=function(r,o){for(var i,u=D(o||this.columns||[]);!(i=u()).done;){var a=i.value;a.columns&&a.columns.length>0?a.sort=void 0:a.sort===void 0&&r?a.sort={}:a.sort?typeof a.sort=="object"&&(a.sort=P({},a.sort)):a.sort=void 0,a.columns&&this.setSort(r,a.columns)}},t.setResizable=function(r,o){for(var i,u=D(o||this.columns||[]);!(i=u()).done;){var a=i.value;a.resizable===void 0&&(a.resizable=r),a.columns&&this.setResizable(r,a.columns)}},t.setID=function(r){for(var o,i=D(r||this.columns||[]);!(o=i()).done;){var u=o.value;u.id||typeof u.name!="string"||(u.id=rt(u.name)),u.id||W.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),u.columns&&this.setID(u.columns)}},t.populatePlugins=function(r,o){for(var i,u=D(o);!(i=u()).done;){var a=i.value;a.plugin!==void 0&&r.add(P({id:a.id},a.plugin,{position:Z.Cell}))}},e.fromColumns=function(r){for(var o,i=new e,u=D(r);!(o=u()).done;){var a=o.value;if(typeof a=="string"||se(a))i.columns.push({name:a});else if(typeof a=="object"){var c=a;c.columns&&(c.columns=e.fromColumns(c.columns).columns),typeof c.plugin=="object"&&c.data===void 0&&(c.data=null),i.columns.push(a)}}return i},e.createFromConfig=function(r){var o=new e;return r.from?o.columns=e.fromHTMLTable(r.from).columns:r.columns?o.columns=e.fromColumns(r.columns).columns:!r.data||typeof r.data[0]!="object"||r.data[0]instanceof Array||(o.columns=Object.keys(r.data[0]).map(function(i){return{name:i}})),o.columns.length?(o.setID(),o.setSort(r.sort),o.setResizable(r.resizable),o.populatePlugins(r.plugin,o.columns),o):null},e.fromHTMLTable=function(r){for(var o,i=new e,u=D(r.querySelector("thead").querySelectorAll("th"));!(o=u()).done;){var a=o.value;i.columns.push({name:a.innerHTML,width:a.width})}return i},e.tabularFormat=function(r){var o=[],i=r||[],u=[];if(i&&i.length){o.push(i);for(var a,c=D(i);!(a=c()).done;){var d=a.value;d.columns&&d.columns.length&&(u=u.concat(d.columns))}u.length&&(o=o.concat(this.tabularFormat(u)))}return o},e.leafColumns=function(r){var o=[],i=r||[];if(i&&i.length)for(var u,a=D(i);!(u=a()).done;){var c=u.value;c.columns&&c.columns.length!==0||o.push(c),c.columns&&(o=o.concat(this.leafColumns(c.columns)))}return o},e.maximumDepth=function(r){return this.tabularFormat([r]).length-1},O(e,[{key:"columns",get:function(){return this._columns},set:function(r){this._columns=r}},{key:"visibleColumns",get:function(){return this._columns.filter(function(r){return!r.hidden})}}]),e}(vn),xe=function(){},Yn=function(n){function e(r){var o;return(o=n.call(this)||this).data=void 0,o.set(r),o}A(e,n);var t=e.prototype;return t.get=function(){try{return Promise.resolve(this.data()).then(function(r){return{data:r,total:r.length}})}catch(r){return Promise.reject(r)}},t.set=function(r){return r instanceof Array?this.data=function(){return r}:r instanceof Function&&(this.data=r),this},e}(xe),Pe=function(n){function e(r){var o;return(o=n.call(this)||this).options=void 0,o.options=r,o}A(e,n);var t=e.prototype;return t.handler=function(r){return typeof this.options.handle=="function"?this.options.handle(r):r.ok?r.json():(W.error("Could not fetch data: "+r.status+" - "+r.statusText,!0),null)},t.get=function(r){var o=P({},this.options,r);return typeof o.data=="function"?o.data(o):fetch(o.url,o).then(this.handler.bind(this)).then(function(i){return{data:o.then(i),total:typeof o.total=="function"?o.total(i):void 0}})},e}(xe),ot=function(){function n(){}return n.createFromConfig=function(e){var t=null;return e.data&&(t=new Yn(e.data)),e.from&&(t=new Yn(this.tableElementToArray(e.from)),e.from.style.display="none"),e.server&&(t=new Pe(e.server)),t||W.error("Could not determine the storage type",!0),t},n.tableElementToArray=function(e){for(var t,r,o=[],i=D(e.querySelector("tbody").querySelectorAll("tr"));!(t=i()).done;){for(var u,a=[],c=D(t.value.querySelectorAll("td"));!(u=c()).done;){var d=u.value;d.childNodes.length===1&&d.childNodes[0].nodeType===Node.TEXT_NODE?a.push((r=d.innerHTML,new DOMParser().parseFromString(r,"text/html").documentElement.textContent)):a.push(ye(d.innerHTML))}o.push(a)}return o},n}(),ne=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function H(n,e,t){if(!n.s){if(t instanceof Q){if(!t.s)return void(t.o=H.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(H.bind(null,n,e),H.bind(null,n,2));n.s=e,n.v=t;var r=n.o;r&&r(n)}}var Q=function(){function n(){}return n.prototype.then=function(e,t){var r=new n,o=this.s;if(o){var i=1&o?e:t;if(i){try{H(r,1,i(this.v))}catch(u){H(r,2,u)}return r}return this}return this.o=function(u){try{var a=u.v;1&u.s?H(r,1,e?e(a):a):t?H(r,1,t(a)):H(r,2,a)}catch(c){H(r,2,c)}},r},n}();function ee(n){return n instanceof Q&&1&n.s}var it=function(n){function e(r){var o;return(o=n.call(this)||this)._steps=new Map,o.cache=new Map,o.lastProcessorIndexUpdated=-1,r&&r.forEach(function(i){return o.register(i)}),o}A(e,n);var t=e.prototype;return t.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},t.register=function(r,o){if(o===void 0&&(o=null),!r)throw Error("Processor is not defined");if(r.type===null)throw Error("Processor type is not defined");if(this.findProcessorIndexByID(r.id)>-1)throw Error("Processor ID "+r.id+" is already defined");return r.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(r,o),this.afterRegistered(r),r},t.tryRegister=function(r,o){o===void 0&&(o=null);try{return this.register(r,o)}catch{}},t.unregister=function(r){if(r&&this.findProcessorIndexByID(r.id)!==-1){var o=this._steps.get(r.type);o&&o.length&&(this._steps.set(r.type,o.filter(function(i){return i!=r})),this.emit("updated",r))}},t.addProcessorByPriority=function(r,o){var i=this._steps.get(r.type);if(!i){var u=[];this._steps.set(r.type,u),i=u}if(o===null||o<0)i.push(r);else if(i[o]){var a=i.slice(0,o-1),c=i.slice(o+1);this._steps.set(r.type,a.concat(r).concat(c))}else i[o]=r},t.getStepsByType=function(r){return this.steps.filter(function(o){return o.type===r})},t.getSortedProcessorTypes=function(){return Object.keys(j).filter(function(r){return!isNaN(Number(r))}).map(function(r){return Number(r)})},t.process=function(r){try{var o=function(s){return i.lastProcessorIndexUpdated=a.length,i.emit("afterProcess",c),c},i=this,u=i.lastProcessorIndexUpdated,a=i.steps,c=r,d=function(s,f){try{var p=function(l,h,w){if(typeof l[ne]=="function"){var g,m,N,b=l[ne]();if(function T(v){try{for(;!(g=b.next()).done;)if((v=h(g.value))&&v.then){if(!ee(v))return void v.then(T,N||(N=H.bind(null,m=new Q,2)));v=v.v}m?H(m,1,v):m=v}catch(B){H(m||(m=new Q),2,B)}}(),b.return){var k=function(T){try{g.done||b.return()}catch{}return T};if(m&&m.then)return m.then(k,function(T){throw k(T)});k()}return m}if(!("length"in l))throw new TypeError("Object is not iterable");for(var $=[],U=0;U<l.length;U++)$.push(l[U]);return function(T,v,B){var C,G,E=-1;return function J(L){try{for(;++E<T.length;)if((L=v(E))&&L.then){if(!ee(L))return void L.then(J,G||(G=H.bind(null,C=new Q,2)));L=L.v}C?H(C,1,L):C=L}catch(Te){H(C||(C=new Q),2,Te)}}(),C}($,function(T){return h($[T])})}(a,function(l){var h=i.findProcessorIndexByID(l.id),w=function(){if(h>=u)return Promise.resolve(l.process(c)).then(function(g){i.cache.set(l.id,c=g)});c=i.cache.get(l.id)}();if(w&&w.then)return w.then(function(){})})}catch(l){return f(l)}return p&&p.then?p.then(void 0,f):p}(0,function(s){throw W.error(s),i.emit("error",c),s});return Promise.resolve(d&&d.then?d.then(o):o())}catch(s){return Promise.reject(s)}},t.findProcessorIndexByID=function(r){return this.steps.findIndex(function(o){return o.id==r})},t.setLastProcessorIndex=function(r){var o=this.findProcessorIndexByID(r.id);this.lastProcessorIndexUpdated>o&&(this.lastProcessorIndexUpdated=o)},t.processorPropsUpdated=function(r){this.setLastProcessorIndex(r),this.emit("propsUpdated"),this.emit("updated",r)},t.afterRegistered=function(r){this.setLastProcessorIndex(r),this.emit("afterRegister"),this.emit("updated",r)},O(e,[{key:"steps",get:function(){for(var r,o=[],i=D(this.getSortedProcessorTypes());!(r=i()).done;){var u=this._steps.get(r.value);u&&u.length&&(o=o.concat(u))}return o.filter(function(a){return a})}}]),e}(Ln),ut=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){try{return Promise.resolve(this.props.storage.get(t))}catch(r){return Promise.reject(r)}},O(e,[{key:"type",get:function(){return j.Extractor}}]),e}(V),st=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){var r=gn.fromArray(t.data);return r.length=t.total,r},O(e,[{key:"type",get:function(){return j.Transformer}}]),e}(V),at=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(t){return typeof t[1]!="function"}).reduce(function(t,r){var o;return P({},t,((o={})[r[0]]=r[1],o))},{})},O(e,[{key:"type",get:function(){return j.Initiator}}]),e}(V),ct=function(n){function e(){return n.apply(this,arguments)||this}A(e,n);var t=e.prototype;return t.castData=function(r){if(!r||!r.length)return[];if(!this.props.header||!this.props.header.columns)return r;var o=Y.leafColumns(this.props.header.columns);return r[0]instanceof Array?r.map(function(i){var u=0;return o.map(function(a,c){return a.data!==void 0?(u++,typeof a.data=="function"?a.data(i):a.data):i[c-u]})}):typeof r[0]!="object"||r[0]instanceof Array?[]:r.map(function(i){return o.map(function(u,a){return u.data!==void 0?typeof u.data=="function"?u.data(i):u.data:u.id?i[u.id]:(W.error("Could not find the correct cell for column at position "+a+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},t._process=function(r){return{data:this.castData(r.data),total:r.total}},O(e,[{key:"type",get:function(){return j.Transformer}}]),e}(V),lt=function(){function n(){}return n.createFromConfig=function(e){var t=new it;return e.storage instanceof Pe&&t.register(new at({serverStorageOptions:e.server})),t.register(new ut({storage:e.storage})),t.register(new ct({header:e.header})),t.register(new st),t},n}(),ft=function(n){var e=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return e.state},this.getListeners=function(){return e.listeners},this.dispatch=function(t){if(typeof t!="function")throw new Error("Reducer is not a function");if(e.isDispatching)throw new Error("Reducers may not dispatch actions");e.isDispatching=!0;var r=e.state;try{e.state=t(e.state)}finally{e.isDispatching=!1}for(var o,i=D(e.listeners);!(o=i()).done;)(0,o.value)(e.state,r);return e.state},this.subscribe=function(t){if(typeof t!="function")throw new Error("Listener is not a function");return e.listeners=[].concat(e.listeners,[t]),function(){return e.listeners=e.listeners.filter(function(r){return r!==t})}},this.state=n},Ne=function(n,e){var t={__c:e="__cC"+ae++,__:null,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&o.some(En)},this.sub=function(u){o.push(u);var a=u.componentWillUnmount;u.componentWillUnmount=function(){o.splice(o.indexOf(u),1),a&&a.call(u)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}(),pt=function(){function n(){Object.assign(this,n.defaultConfig())}var e=n.prototype;return e.assign=function(t){return Object.assign(this,t)},e.update=function(t){return t?(this.assign(n.fromPartialConfig(P({},this,t))),this):this},n.defaultConfig=function(){return{store:new ft({status:F.Init,header:void 0,data:null}),plugin:new Qn,tableRef:{current:null},width:"100%",height:"auto",processingThrottleMs:100,autoWidth:!0,style:{},className:{}}},n.fromPartialConfig=function(t){var r=new n().assign(t);return typeof t.sort=="boolean"&&t.sort&&r.assign({sort:{multiColumn:!0}}),r.assign({header:Y.createFromConfig(r)}),r.assign({storage:ot.createFromConfig(r)}),r.assign({pipeline:lt.createFromConfig(r)}),r.assign({translator:new Qe(r.language)}),r.plugin=new Qn,r.search&&r.plugin.add({id:"search",position:Z.Header,component:Ye}),r.pagination&&r.plugin.add({id:"pagination",position:Z.Footer,component:nt}),r.plugins&&r.plugins.forEach(function(o){return r.plugin.add(o)}),r},n}();function Se(n){var e,t=M();return _("td",P({role:n.role,colSpan:n.colSpan,"data-column-id":n.column&&n.column.id,className:S(x("td"),n.className,t.className.td),style:P({},n.style,t.style.td),onClick:function(r){n.messageCell||t.eventEmitter.emit("cellClick",r,n.cell,n.column,n.row)}},(e=n.column)?typeof e.attributes=="function"?e.attributes(n.cell.data,n.row,n.column):e.attributes:{}),n.column&&typeof n.column.formatter=="function"?n.column.formatter(n.cell.data,n.row,n.column):n.column&&n.column.plugin?_(wn,{pluginId:n.column.id,props:{column:n.column,cell:n.cell,row:n.row}}):n.cell.data)}function jn(n){var e=M(),t=z(function(r){return r.header});return _("tr",{className:S(x("tr"),e.className.tr),onClick:function(r){n.messageRow||e.eventEmitter.emit("rowClick",r,n.row)}},n.children?n.children:n.row.cells.map(function(r,o){var i=function(u){if(t){var a=Y.leafColumns(t.columns);if(a)return a[u]}return null}(o);return i&&i.hidden?null:_(Se,{key:r.id,cell:r,row:n.row,column:i})}))}function Sn(n){return _(jn,{messageRow:!0},_(Se,{role:"alert",colSpan:n.colSpan,messageCell:!0,cell:new Tn(n.message),className:S(x("message"),n.className?n.className:null)}))}function dt(){var n=M(),e=z(function(u){return u.data}),t=z(function(u){return u.status}),r=z(function(u){return u.header}),o=bn(),i=function(){return r?r.visibleColumns.length:0};return _("tbody",{className:S(x("tbody"),n.className.tbody)},e&&e.rows.map(function(u){return _(jn,{key:u.id,row:u})}),t===F.Loading&&(!e||e.length===0)&&_(Sn,{message:o("loading"),colSpan:i(),className:S(x("loading"),n.className.loading)}),t===F.Rendered&&e&&e.length===0&&_(Sn,{message:o("noRecordsFound"),colSpan:i(),className:S(x("notfound"),n.className.notfound)}),t===F.Error&&_(Sn,{message:o("error"),colSpan:i(),className:S(x("error"),n.className.error)}))}var ht=function(n){function e(){return n.apply(this,arguments)||this}A(e,n);var t=e.prototype;return t.validateProps=function(){for(var r,o=D(this.props.columns);!(r=o()).done;){var i=r.value;i.direction===void 0&&(i.direction=1),i.direction!==1&&i.direction!==-1&&W.error("Invalid sort direction "+i.direction)}},t.compare=function(r,o){return r>o?1:r<o?-1:0},t.compareWrapper=function(r,o){for(var i,u=0,a=D(this.props.columns);!(i=a()).done;){var c=i.value;if(u!==0)break;var d=r.cells[c.index].data,s=o.cells[c.index].data;u|=typeof c.compare=="function"?c.compare(d,s)*c.direction:this.compare(d,s)*c.direction}return u},t._process=function(r){var o=[].concat(r.rows);o.sort(this.compareWrapper.bind(this));var i=new gn(o);return i.length=r.length,i},O(e,[{key:"type",get:function(){return j.Sort}}]),e}(V),te=function(n,e,t,r){return function(o){var i,u=(i=o.sort)!=null&&i.columns?o.sort.columns.map(function(w){return P({},w)}):[],a=u.length,c=u.find(function(w){return w.index===n}),d=!1,s=!1,f=!1,p=!1;if(c!==void 0?t?c.direction===-1?f=!0:p=!0:a===1?p=!0:a>1&&(s=!0,d=!0):a===0?d=!0:a>0&&!t?(d=!0,s=!0):a>0&&t&&(d=!0),s&&(u=[]),d)u.push({index:n,direction:e,compare:r});else if(p){var l=u.indexOf(c);u[l].direction=e}else if(f){var h=u.indexOf(c);u.splice(h,1)}return P({},o,{sort:{columns:u}})}},Ce=function(n,e,t){return function(r){var o=(r.sort?[].concat(r.sort.columns):[]).find(function(i){return i.index===n});return P({},r,o?te(n,o.direction===1?-1:1,e,t)(r):te(n,1,e,t)(r))}},_t=function(n){function e(){return n.apply(this,arguments)||this}return A(e,n),e.prototype._process=function(t){var r={};return this.props.url&&(r.url=this.props.url(t.url,this.props.columns)),this.props.body&&(r.body=this.props.body(t.body,this.props.columns)),P({},t,r)},O(e,[{key:"type",get:function(){return j.ServerSort}}]),e}(V);function mt(n){var e=M(),t=nn().dispatch,r=bn(),o=X(0),i=o[0],u=o[1],a=e.sort,c=z(function(f){return f.sort}),d=typeof(a==null?void 0:a.server)=="object"?j.ServerSort:j.Sort,s=function(){var f=e.pipeline.getStepsByType(d);if(f.length)return f[0]};return R(function(){var f=s()||(d===j.ServerSort?new _t(P({columns:c?c.columns:[]},a.server)):new ht({columns:c?c.columns:[]}));return e.pipeline.tryRegister(f),function(){return e.pipeline.unregister(f)}},[e]),R(function(){if(c){var f,p=c.columns.find(function(l){return l.index===n.index});p?(i===0&&(p.direction=(f=n.direction)!=null?f:1),u(p.direction)):u(0)}},[c]),R(function(){var f=s();f&&c&&f.setProps({columns:c.columns})},[c]),_("button",{tabIndex:-1,"aria-label":r("sort.sort"+(i===1?"Desc":"Asc")),title:r("sort.sort"+(i===1?"Desc":"Asc")),className:S(x("sort"),x("sort",function(f){return f===1?"asc":f===-1?"desc":"neutral"}(i)),e.className.sort),onClick:function(f){f.preventDefault(),f.stopPropagation(),t(Ce(n.index,f.shiftKey===!0&&a.multiColumn,n.compare))}})}var Ee=function(n,e){var t;e===void 0&&(e=100);var r=Date.now(),o=function(){r=Date.now(),n.apply(void 0,[].slice.call(arguments))};return function(){var i=[].slice.call(arguments),u=Date.now(),a=u-r;a>=e?o.apply(void 0,i):(t&&clearTimeout(t),t=setTimeout(function(){o.apply(void 0,i),t=null},e-a))}};function vt(n){var e,t=function(u){return u instanceof MouseEvent?Math.floor(u.pageX):Math.floor(u.changedTouches[0].pageX)},r=function(u){u.stopPropagation();var a=parseInt(n.thRef.current.style.width,10)-t(u);e=Ee(function(c){return o(c,a)},10),document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)},o=function(u,a){u.stopPropagation();var c=n.thRef.current;a+t(u)>=parseInt(c.style.minWidth,10)&&(c.style.width=a+t(u)+"px")},i=function u(a){a.stopPropagation(),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",u)};return _("div",{className:S(x("th"),x("resizable")),onMouseDown:r,onTouchStart:r,onClick:function(u){return u.stopPropagation()}})}function gt(n){var e=M(),t=sn(null),r=X({}),o=r[0],i=r[1],u=nn().dispatch;R(function(){if(e.fixedHeader&&t.current){var s=t.current.offsetTop;typeof s=="number"&&i({top:s})}},[t]);var a,c=function(){return n.column.sort!=null},d=function(s){s.stopPropagation(),c()&&u(Ce(n.index,s.shiftKey===!0&&e.sort.multiColumn,n.column.sort.compare))};return _("th",P({ref:t,"data-column-id":n.column&&n.column.id,className:S(x("th"),c()?x("th","sort"):null,e.fixedHeader?x("th","fixed"):null,e.className.th),onClick:d,style:P({},e.style.th,{minWidth:n.column.minWidth,width:n.column.width},o,n.style),onKeyDown:function(s){c()&&s.which===13&&d(s)},rowSpan:n.rowSpan>1?n.rowSpan:void 0,colSpan:n.colSpan>1?n.colSpan:void 0},(a=n.column)?typeof a.attributes=="function"?a.attributes(null,null,n.column):a.attributes:{},c()?{tabIndex:0}:{}),_("div",{className:x("th","content")},n.column.name!==void 0?n.column.name:n.column.plugin!==void 0?_(wn,{pluginId:n.column.plugin.id,props:{column:n.column}}):null),c()&&_(mt,P({index:n.index},n.column.sort)),n.column.resizable&&n.index<e.header.visibleColumns.length-1&&_(vt,{column:n.column,thRef:t}))}function yt(){var n,e=M(),t=z(function(r){return r.header});return t?_("thead",{key:t.id,className:S(x("thead"),e.className.thead)},(n=Y.tabularFormat(t.columns)).map(function(r,o){return function(i,u,a){var c=Y.leafColumns(t.columns);return _(jn,null,i.map(function(d){return d.hidden?null:function(s,f,p,l){var h=function(w,g,m){var N=Y.maximumDepth(w),b=m-g;return{rowSpan:Math.floor(b-N-N/b),colSpan:w.columns&&w.columns.length||1}}(s,f,l);return _(gt,{column:s,index:p,colSpan:h.colSpan,rowSpan:h.rowSpan})}(d,u,c.indexOf(d),a)}))}(r,o,n.length)})):null}var re=function(n){return function(e){return P({},e,{header:n})}};function bt(){var n=M(),e=sn(null),t=nn().dispatch;return R(function(){e&&t(function(r){return function(o){return P({},o,{tableRef:r})}}(e))},[e]),_("table",{ref:e,role:"grid",className:S(x("table"),n.className.table),style:P({},n.style.table,{height:n.height})},_(yt,null),_(dt,null))}function wt(){var n=X(!0),e=n[0],t=n[1],r=sn(null),o=M();return R(function(){r.current.children.length===0&&t(!1)},[r]),e?_("div",{ref:r,className:S(x("head"),o.className.header),style:P({},o.style.header)},_(wn,{position:Z.Header})):null}function kt(){var n=sn(null),e=X(!0),t=e[0],r=e[1],o=M();return R(function(){n.current.children.length===0&&r(!1)},[n]),t?_("div",{ref:n,className:S(x("footer"),o.className.footer),style:P({},o.style.footer)},_(wn,{position:Z.Footer})):null}function xt(){var n=M(),e=nn().dispatch,t=z(function(a){return a.status}),r=z(function(a){return a.data}),o=z(function(a){return a.tableRef}),i={current:null},u=Ee(function(){try{e(function(c){return P({},c,{status:F.Loading})});var a=function(c,d){try{var s=Promise.resolve(n.pipeline.process()).then(function(f){e(function(p){return function(l){return p?P({},l,{data:p,status:F.Loaded}):l}}(f)),setTimeout(function(){e(function(p){return p.status===F.Loaded?P({},p,{status:F.Rendered}):p})},0)})}catch(f){return d(f)}return s&&s.then?s.then(void 0,d):s}(0,function(c){W.error(c),e(function(d){return P({},d,{data:null,status:F.Error})})});return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(c){return Promise.reject(c)}},n.processingThrottleMs);return R(function(){return e(re(n.header)),u(),n.pipeline.on("updated",u),function(){return n.pipeline.off("updated",u)}},[]),R(function(){n.header&&t===F.Loaded&&r!=null&&r.length&&e(re(n.header.adjustWidth(n,o,i)))},[r,n,i]),_("div",{role:"complementary",className:S("gridjs",x("container"),t===F.Loading?x("loading"):null,n.className.container),style:P({},n.style.container,{width:n.width})},t===F.Loading&&_("div",{className:x("loading-bar")}),_(wt,null),_("div",{className:x("wrapper"),style:{height:n.height}},_(bt,null)),_(kt,null),_("div",{ref:i,id:"gridjs-temp",className:x("temp")}))}var Pt=function(n){function e(r){var o;return(o=n.call(this)||this).config=void 0,o.plugin=void 0,o.config=new pt().assign({instance:On(o),eventEmitter:On(o)}).update(r),o.plugin=o.config.plugin,o}A(e,n);var t=e.prototype;return t.updateConfig=function(r){return this.config.update(r),this},t.createElement=function(){return _(Ne.Provider,{value:this.config,children:_(xt,{})})},t.forceRender=function(){return this.config&&this.config.container||W.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),tn(this.createElement(),this.config.container),this},t.destroy=function(){this.config.pipeline.clearCache(),tn(null,this.config.container)},t.render=function(r){return r||W.error("Container element cannot be null",!0),r.childNodes.length>0?(W.error("The container element "+r+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=r,tn(this.createElement(),r),this)},e}(Ln);const Ie=function(n){if(n==null)return Et;if(typeof n=="function")return kn(n);if(typeof n=="object")return Array.isArray(n)?Nt(n):St(n);if(typeof n=="string")return Ct(n);throw new Error("Expected function, string, or object as test")};function Nt(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Ie(n[t]);return kn(r);function r(...o){let i=-1;for(;++i<e.length;)if(e[i].apply(this,o))return!0;return!1}}function St(n){const e=n;return kn(t);function t(r){const o=r;let i;for(i in n)if(o[i]!==e[i])return!1;return!0}}function Ct(n){return kn(e);function e(t){return t&&t.type===n}}function kn(n){return e;function e(t,r,o){return!!(It(t)&&n.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function Et(){return!0}function It(n){return n!==null&&typeof n=="object"&&"type"in n}const Ae=[],At=!0,oe=!1,Tt="skip";function Lt(n,e,t,r){let o;typeof e=="function"&&typeof t!="function"?(r=t,t=e):o=e;const i=Ie(o),u=r?-1:1;a(n,void 0,[])();function a(c,d,s){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const l=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(l?"<"+l+">":""))+")"})}return p;function p(){let l=Ae,h,w,g;if((!e||i(c,d,s[s.length-1]||void 0))&&(l=jt(t(c,s)),l[0]===oe))return l;if("children"in c&&c.children){const m=c;if(m.children&&l[0]!==Tt)for(w=(r?m.children.length:-1)+u,g=s.concat(m);w>-1&&w<m.children.length;){const N=m.children[w];if(h=a(N,w,g)(),h[0]===oe)return h;w=typeof h[1]=="number"?h[1]:w+u}}return l}}}function jt(n){return Array.isArray(n)?n:typeof n=="number"?[At,n]:n==null?Ae:[n]}function Ot(n,e,t,r){let o,i,u;typeof e=="function"&&typeof t!="function"?(i=void 0,u=e,o=t):(i=e,u=t,o=r),Lt(n,i,a,o);function a(c,d){const s=d[d.length-1],f=s?s.children.indexOf(c):void 0;return u(c,f,s)}}const ie=function(){return n=>{Ot(n,e=>{const t=e;try{if(t.type!=="element"||t.tagName!=="table")return;const[r,o]=t.children,i=r.children[0].children.map(s=>s.children[0].value),u=o.children.map(s=>s.children.map(f=>f.children[0].value)),a=new Pt({columns:i,data:u,pagination:!0,search:!0,sort:!0,resizable:!0,style:{table:{border:"2px solid var(--bs-secondary-bg)"},th:{color:"var(--bs-body-color)",backgroundColor:"var(--bs-body-bg)"},td:{color:"var(--bs-body-color)",backgroundColor:"var(--bs-body-bg)"},footer:{backgroundColor:"var(--bs-secondary-bg)"}}}),c=`table-grid-${Math.random().toString(36).slice(2)}`;t.properties.className=`${t.properties.className} ${c}`;const d=setInterval(()=>{const s=document.querySelector(`.${c}`);s&&(clearInterval(d),s.innerHTML="",a.render(s))},1e3)}catch(r){t.type="html",t.value=`<div style="color: red;">Error: ${r.message}</div>`}})}},Dt=()=>{if(growiFacade==null||growiFacade.markdownRenderer==null)return;const{optionsGenerators:n}=growiFacade.markdownRenderer;n.customGenerateViewOptions=(...e)=>{const t=n.generateViewOptions(...e);return t.rehypePlugins.push(ie),t},n.customGeneratePreviewOptions=(...e)=>{const t=n.generatePreviewOptions(...e);return t.rehypePlugins.push(ie),t}},Ht=()=>{};window.pluginActivators==null&&(window.pluginActivators={});window.pluginActivators[Be.name]={activate:Dt,deactivate:Ht};
